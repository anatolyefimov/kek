{"version":3,"sources":["panels/Home/index.js","api/trimAudio.js","panels/NewPodcast/index.js","img/scissors 1.svg","img/bar-chart 1.svg","utils/convertDataURIToBinary.js","panels/EditAudio/index.js","utils/throttle.js","panels/SliderTest/index.js","panels/DoubleSliderTest/index.js","panels/AddMusic/index.js","panels/FinalPreview/index.js","App.js","index.js"],"names":["Home","id","go","centered","icon","className","header","action","size","onClick","data-to","blob","filename","left","right","setCurrentSettings","a","formData","FormData","console","log","append","fetch","method","body","headers","responseType","response","blob2","reader","FileReader","readAsDataURL","onloadend","base64data","result","arrayBuffer","audioContext","AudioContext","newWaves","decodeAudioData","audioBuffer","i","length","Math","floor","newWave","c","numberOfChannels","getChannelData","push","currentSettings","audio","waves","trimAudio","NewPodcast","handleAudioUpload","event","file","target","files","prevSettings","duration","MMSSfromSeconds","onload","audioDurationString","audioName","name","fullSeconds","intSeconds","round","minutes","seconds","style","display","padding","imgSrc","src","alt","tabIndex","mode","accept","onChange","width","height","Component","top","placeholder","value","podcastName","persist","podcastDescription","before","justifyContent","alignItems","asideContent","level","weight","color","marginTop","cursor","controlSize","marginBottom","expandable","description","paddingTop","flexGrow","disabled","_extends","Object","assign","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","_ref3","_ref4","_ref5","_ref6","_ref","svgRef","title","props","viewBox","fill","ref","ForwardRef","forwardRef","convertDataURIToBinary","dataURI","base64Index","base64","substring","raw","window","atob","rawLength","array","Uint8Array","ArrayBuffer","charCodeAt","EditAudio","audioSrc","audioNode","useRef","useState","currenTime","setCurrentTime","play","setPlay","coords","setCoords","timeUpdate","e","current","currentTime","func","ms","savedArgs","savedThis","isThrottled","wrapper","setTimeout","throttle","useEffect","addEventListener","cutAudio","start","finish","binary","Blob","type","borderRadius","border","margin","position","range","min","max","connect","onSlide","render","handle","un","percent","zIndex","step","backgroundColor","map","wave","pause","transform","AddMusic","search","setSearch","separator","after","marginRight","fontSize","FinalPreview","App","activePanel","setActivePanel","currentTarget","dataset","to","SliderTest","DoubleSliderTest","bridge","send","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.9d609184.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { \n\tPanel, \n\tPanelHeader, \n\tButton,\n\tPlaceholder \n} from '@vkontakte/vkui';\nimport Icon56AddCircleOutline from '@vkontakte/icons/dist/56/add_circle_outline';\n\nimport './Home.css'\n\nconst Home = ({ id, go }) => (\n\t<Panel id={id} centered>\n\t\t<PanelHeader>Подкасты</PanelHeader>\n\t\t<Placeholder\n\t\t\ticon={ <Icon56AddCircleOutline className='Home__icon'/> }\n\t\t\theader='Добавьте первый подкаст'\n\t\t\taction={\n\t\t\t\t<Button \n\t\t\t\t\tsize='l'\n\t\t\t\t\tonClick={go}\n\t\t\t\t\tdata-to='new-podcast'\n\t\t\t\t>\n\t\t\t\t\tДобавить подкаст\n\t\t\t\t</Button>\n\t\t\t}\n\t\t\tclassName='Home__placeholder'\n\t\t>\n\t\t\tДобавляйте, редактируйте и делитесь подкастами вашего сообщества.\n\t\t</Placeholder>\n\t</Panel>\n);\n\nHome.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired\n};\n\nexport default Home;\n","async function trimAudio(blob, filename, left, right, setCurrentSettings) {\n  let formData = new FormData();\n  console.log('trim', blob)\n  formData.append('audio', blob, filename)\n  formData.append('left', left);\n  formData.append('right', right);\n\n  let response = await fetch('/cut_audio', {\n    method: 'POST',\n    body: formData,\n    headers: {\n      responseType: 'arraybuffer'\n    }\n  });\n  // const base64 = reader.readA\n  let blob2 = await response.blob()\n  console.log(blob2)\n  let reader = new FileReader()\n  reader.readAsDataURL(blob2);\n  reader.onloadend = async function() {\n    const base64data = reader.result;\n    const arrayBuffer = await blob2.arrayBuffer();\n    const audioContext = new AudioContext();\n    let newWaves = [];\n    const audioBuffer = await audioContext.decodeAudioData(arrayBuffer);\n    for (let i = 0; i < audioBuffer.length; i += Math.floor(audioBuffer.length / 100)) {\n      let newWave = 0;\n      for (let c = 0; c < audioBuffer.numberOfChannels; ++c) {\n        newWave += audioBuffer.getChannelData(c)[i]\n      }\n      newWave /= audioBuffer.numberOfChannels;\n      newWave += 1;\n      newWave /= 2;\n\n      newWaves.push(newWave);\n    }\n\n    setCurrentSettings((currentSettings) => ({\n      ...currentSettings, audio: base64data, waves: newWaves\n    }))\n  }\n\n\n  // const newUrl = URL.createObjectURL(blob2)\n  // console.log(newUrl)\n  // let pump = () => {\n  //   reader.read().then(({value, done}) => {\n  //     // console.log(value) // chunk of data (push chunk to audio context)\n  //     if(!done) pump()\n  //   })\n  // }\n  // pump()\n\n  // return response\n}\n\nexport default trimAudio;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  Panel,\n  PanelHeader,\n  PanelHeaderBack,\n  FormLayout,\n  Placeholder,\n  Div,\n  File,\n  Input,\n  Separator,\n  Checkbox,\n  Button,\n  Cell,\n  Textarea,\n  Caption,\n  Card\n} from '@vkontakte/vkui';\n\nimport Icon56GalleryOutline from '@vkontakte/icons/dist/56/gallery_outline';\nimport './NewPodcast.css'\nimport { Icon28PodcastOutline } from \"@vkontakte/icons\";\n\nimport trimAudio from 'api/trimAudio';\n\n\nconst NewPodcast = ({id, go, setCurrentSettings, currentSettings}) => {\n\n  const handleImageChange = event => {\n    const reader = new FileReader();\n    reader.onload = () => {\n      setCurrentSettings((prevSettings) => ({...prevSettings, imgSrc: reader.result}));\n    }\n    reader.readAsDataURL(event.target.files[0]);\n\n\n  }\n\n  const handleImageDelete = () => {\n    setCurrentSettings(prevSettings => ({\n        ...prevSettings,\n        imgSrc: null\n    }))\n  }\n\n  const handleAudioUpload = async (event) => {\n    const file = event.target.files[0];\n    console.log(file)\n\n    const arrayBuffer = await file.arrayBuffer();\n    const audioContext = new AudioContext();\n    let newWaves = [];\n    const audioBuffer = await audioContext.decodeAudioData(arrayBuffer);\n    for (let i = 0; i < audioBuffer.length; i += Math.floor(audioBuffer.length / 100)) {\n        let newWave = 0;\n        for (let c = 0; c < audioBuffer.numberOfChannels; ++c) {\n            newWave += audioBuffer.getChannelData(c)[i]\n        }\n        newWave /= audioBuffer.numberOfChannels;\n        newWave += 1;\n        newWave /= 2;\n\n        newWaves.push(newWave);\n    }\n    setCurrentSettings(prevSettings => ({...prevSettings, waves: newWaves}));\n\n    const duration = MMSSfromSeconds(audioBuffer.duration)\n    let reader = new FileReader();\n    reader.onload = (event) => {\n        console.log(reader.result)\n        setCurrentSettings(prevSettings =>({\n            ...prevSettings,\n            audioDurationString: duration,\n            audioName: file.name,\n            audio: reader.result\n        }))\n    }\n    reader.readAsDataURL(file);\n    console.log(file);\n\n  }\n\n\n  const MMSSfromSeconds = (fullSeconds) => {\n    const intSeconds = Math.round(fullSeconds)\n    const minutes = Math.round(intSeconds / 60)\n    const seconds = intSeconds % 60\n    return `${minutes > 9 ? minutes : `0${minutes}`}:${seconds > 9 ? seconds : `0${seconds}`}`\n  }\n\n  return (\n    <Panel id={id} className='NewPodcast'>\n      <PanelHeader left={<PanelHeaderBack onClick={go} data-to='home'/>}>\n        Новый подкаст\n      </PanelHeader>\n      <FormLayout>\n        <Div style={{\n          display: 'flex',\n          padding: 0\n        }}>\n          <Div className='NewPodcast__imageOverlay'>\n            {!currentSettings.imgSrc ? <File\n                tabIndex={0}\n                mode='overlay_primary'\n                className='cover-input'\n                accept=\"image/*\"\n                onChange={handleImageChange}\n              >\n                <Icon56GalleryOutline\n                  className='cover-input__icon'\n                  width={32}\n                  height={32}\n                />\n              </File>\n              :\n              <img className='NewPodcast__image'\n                   src={currentSettings.imgSrc}\n                   alt='Обложкаф'\n                   onClick={handleImageDelete}\n              />\n            }\n          </Div>\n          <Div className='NewPodcast__TopForm'>\n            <FormLayout Component='div'>\n              <Input\n                top='Название'\n                placeholder='Введите название подкаста'\n                className='NewPodcast__name'\n                value={currentSettings.podcastName}\n                onChange={(event) => {\n                    event.persist()\n                    setCurrentSettings(prevSettings => ({\n                    ...prevSettings,\n                    podcastName: event.target.value\n                }))}}\n              />\n            </FormLayout>\n          </Div>\n\n        </Div>\n      </FormLayout>\n      <FormLayout>\n        <Textarea value={currentSettings.podcastDescription} onChange={(event) => { event.persist(); setCurrentSettings( prevSettings => ({\n                ...prevSettings,\n                podcastDescription: event.target.value\n            })\n            )}}\n                  top=\"Описание подкаста\"/>\n      </FormLayout>\n\n      {\n        !currentSettings.audio ? <Placeholder\n            header=\"Загрузите Ваш подкаст\"\n            className=\"NewPodcast__placeholder\"\n            action={<File style={{cursor: 'pointer'}} tabIndex={0} accept='audio/*' onChange={handleAudioUpload}\n                          mode=\"outline\" controlSize={'l'}>Загрузить\n              файл</File>}\n          >\n            Выберите готовый аудиофайл из вашего телефона и добавьте его\n          </Placeholder> :\n          <Div>\n            <Cell className='NewPodcast__audioInfo' before={\n              <Card style={{\n                width: '48px',\n                height: '48px',\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'center'\n              }}>\n                <Icon28PodcastOutline/>\n              </Card>}\n                  asideContent={currentSettings.audioDurationString}>{currentSettings.audioName}</Cell>\n            <Caption level='1' className='' weight=\"regular\" style={{color: '#818C99', marginTop: '10px'}}>Вы можете\n              добавить\n              таймкоды и скорректировать подкаст в режиме редактирования</Caption>\n\n            <Button size={'xl'} mode={'outline'} style={{marginTop: '18px'}} onClick={go} data-to='edit-audio'>Редактировать аудиозапись</Button>\n          </Div>\n      }\n\n      <Separator style={{marginBottom: '2px', marginTop: '10px'}}/>\n      <FormLayout className=\"NewPodcast__checkboxes\">\n        <Checkbox tabIndex={0} className=\"NewPodcast__checkbox\">Ненормативный контент</Checkbox>\n        <Checkbox tabIndex={0} className=\"NewPodcast__checkbox\">Исключить эпизод из экспорта</Checkbox>\n        <Checkbox tabIndex={0} className=\"NewPodcast__checkbox\">Трейлер подкаста</Checkbox>\n\n      </FormLayout>\n\n\n      <Cell className='NewPodcast__privacyCell' expandable size={'l'} description={'Всем пользователям'}>\n        Кому доступен данный подкаст\n      </Cell>\n      <Div style={{paddingTop: 0}}>\n        <Caption level='1' weight=\"regular\" style={{color: '#818C99'}}>При публикации записи с\n          эпизодом, он\n          становится доступным для всех пользователей</Caption>\n      </Div>\n      <Div style={{flexGrow: 1, padding: 0}}></Div>\n      <Div>\n        <Button disabled={!currentSettings.imgSrc || !currentSettings.podcastName || !currentSettings.podcastDescription || !currentSettings.audio}\n                size=\"xl\"\n                mode=\"primary\">Далее</Button>\n      </Div>\n    </Panel>\n  )\n}\n\nNewPodcast.propTypes = {\n  id: PropTypes.string.isRequired,\n  go: PropTypes.func.isRequired\n};\n\nexport default NewPodcast;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 9C7.65685 9 9 7.65685 9 6C9 4.34315 7.65685 3 6 3C4.34315 3 3 4.34315 3 6C3 7.65685 4.34315 9 6 9Z\",\n  stroke: \"#3F8AE0\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 21C7.65685 21 9 19.6569 9 18C9 16.3431 7.65685 15 6 15C4.34315 15 3 16.3431 3 18C3 19.6569 4.34315 21 6 21Z\",\n  stroke: \"#3F8AE0\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 4L8.12 15.88\",\n  stroke: \"#3F8AE0\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14.47 14.48L20 20\",\n  stroke: \"#3F8AE0\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.12 8.12L12 12\",\n  stroke: \"#3F8AE0\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar SvgScissors1 = function SvgScissors1(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgScissors1, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/scissors 1.a92a9b83.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 20V10\",\n  stroke: \"#3F8AE0\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 20V4\",\n  stroke: \"#3F8AE0\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18 20V16\",\n  stroke: \"#3F8AE0\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar SvgBarChart1 = function SvgBarChart1(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgBarChart1, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/bar-chart 1.2b3d202e.svg\";\nexport { ForwardRef as ReactComponent };","\nvar BASE64_MARKER = ';base64,';\n\nfunction convertDataURIToBinary(dataURI) {\n  var base64Index = dataURI.indexOf(BASE64_MARKER) + BASE64_MARKER.length;\n  var base64 = dataURI.substring(base64Index);\n  var raw = window.atob(base64);\n  var rawLength = raw.length;\n  var array = new Uint8Array(new ArrayBuffer(rawLength));\n\n  for(let i = 0; i < rawLength; i++) {\n    array[i] = raw.charCodeAt(i);\n  }\n  return array;\n}\n\n\nexport default convertDataURIToBinary;","import React, { useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Nouislider from \"nouislider-react\";\nimport \"nouislider/distribute/nouislider.css\";\n\nimport { Button, Div, Panel, PanelHeader, PanelHeaderBack } from '@vkontakte/vkui';\n\nimport Icon24Play from '@vkontakte/icons/dist/24/play';\nimport Icon24Pause from '@vkontakte/icons/dist/24/pause';\nimport Icon24ArrowUturnLeftOutline from '@vkontakte/icons/dist/24/arrow_uturn_left_outline';\nimport Icon20MusicOutline from '@vkontakte/icons/dist/20/music_outline';\nimport { ReactComponent as Scissors } from 'img/scissors 1.svg'\nimport { ReactComponent as BarChart } from 'img/bar-chart 1.svg'\n\nimport throttle from 'utils/throttle';\nimport convertDataURIToBinary from 'utils/convertDataURIToBinary'\nimport trimAudio from 'api/trimAudio'\n\n\nimport './EditAudio.css';\n\n\nconst EditAudio = ({id, audioSrc, waves, go, setCurrentSettings}) => {\n  const audioNode = useRef();\n  const progressBar = useRef();\n  const [currenTime, setCurrentTime] = useState(0);\n  const [play, setPlay] = useState(false);\n  const [audiofile, setAudiofile] = useState();\n  const [coords, setCoords] = useState([20, 60])\n  console.log('audioSrc')\n  // console.log(audioSrc)\n  let timeUpdate = (e) => {\n      console.log(audioNode.current.currentTime  || audioNode.current.currentTime === 0)\n    if (audioNode.current.currentTime  || audioNode.current.currentTime === 0) {\n        setCurrentTime(e.target.currentTime / audioNode.current.duration * 100);\n    }\n  }\n\n\n\n  timeUpdate = throttle(timeUpdate, 1000)\n  useEffect(() => {\n    audioNode.current.addEventListener('timeupdate', timeUpdate)\n  })\n\n  const onRangeChange = (event) => {\n      if (audioNode.current.currentTime || audioNode.current.currentTime === 0) {\n        audioNode.current.currentTime = audioNode.current.duration * event.target.value / 100;\n\n        setCurrentTime(event.target.value)\n      }\n  }\n\n  const cutAudio = async (start, finish) => {\n    let binary = convertDataURIToBinary(audioNode.current.src);\n    var blob = new Blob([binary], {type: 'audio/mp3'});\n    await trimAudio(blob, 'audio.mp3', audioNode.current.duration*coords[0] / 100, audioNode.current.duration*coords[1] / 100, setCurrentSettings)\n\n// create audio context\n//     const audioContext = getAudioContext();\n// create audioBuffer (decode audio file)\n//     const audioBuffer = await audioContext.decodeAudioData(response.data);\n// create audio source\n//     const source = audioContext.createBufferSource();\n//     source.buffer = audioBuffer;\n//     source.connect(audioContext.destination);\n\n// play audio\n//     source.start();\n\n\n  }\n\n  const handlePlay = () => {\n        if (play) {\n        audioNode.current.pause();\n        }\n        else {\n        audioNode.current.play();\n        }\n        setPlay(!play)\n    }\n\n    return (\n        <Panel id={id}>\n            <PanelHeader left={<PanelHeaderBack onClick={go} data-to='new-podcast'/>} >\n                Редактирование\n            </PanelHeader>\n            <audio ref={audioNode} id='audio' src={audioSrc}>\n\n                Your browser does not support the audio element.\n            </audio>\n            <div style={{\n                borderRadius: '10px',\n                border: '0.5px solid rgba(0, 0, 0, 0.12)',\n                margin: '0 12px',\n                position: 'relative'\n            }}>\n                <Nouislider \n                    className={'double-slider'} \n                    range={{ min: 0, max: 100 }} \n                    start={coords} connect\n                    onSlide={(render, handle, value, un, percent) => { setCoords(value)}}\n                />\n                <input \n                    className='slider_play' \n                    type={'range'} \n                    style={{\n                        position: 'absolute',\n                        top: -70,\n                        left: 0,\n                        zIndex: 100\n                    }}\n                    step='0.1'\n                    value={currenTime}\n                    onChange={onRangeChange}\n                />\n                <Div style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'space-between',\n                    height: 96,\n                    backgroundColor: '#F2F3F5',\n                    position: 'relative',\n                    borderRadius: '10px 10px 0 0',\n                    \n                }}>\n                                \n                    {\n                        waves.map((wave) => (\n                            <div style={{\n                                height: wave  < 0.5 ? 40*wave*0.5 : 40*wave,\n                                width: 2,\n                                borderRadius: '2px',\n                                backgroundColor: '#3F8AE0',\n                                \n                            }}>\n\n                            </div>\n                        ))\n                    }\n                </Div>\n                <div className='toolbar'>\n                    <Button\n                        className='toolbar__button'\n                        onClick={handlePlay}\n                    >\n                        {play ? <Icon24Pause /> : <Icon24Play />}\n                    </Button>\n                    <Button\n                        className='toolbar__button'\n                        onClick={cutAudio}\n                        mode='secondary'\n                    >\n                        <Scissors/>\n                    </Button>\n                    <Button\n                        className='toolbar__button'\n                        mode='secondary'\n                    >\n                        <Icon24ArrowUturnLeftOutline />\n                    </Button>\n                    <Button\n                        className='toolbar__button'\n                        mode='secondary'\n                        onClick={e => {setPlay(false);go(e)}}\n                        data-to='add-music'\n                    >\n                        <Icon20MusicOutline width={24} height={24}/>\n                    </Button>\n                    <Button\n                        className='toolbar__button'\n                        mode='secondary'\n                    >\n                        <BarChart style={{transform: 'rotate(270deg)'}}/>\n                    </Button>\n                    <Button\n                        className='toolbar__button'\n                        mode='secondary'\n                    >\n                        <BarChart />\n                    </Button>\n                </div>\n                    \n            </div> \n\n        </Panel>\n    )\n}\n\n\nEditAudio.propTypes = {\n  id: PropTypes.string.isRequired\n};\n\nexport default EditAudio;\n","export default function throttle(func, ms) {\n\n    let isThrottled = false,\n      savedArgs,\n      savedThis;\n  \n    function wrapper() {\n  \n      if (isThrottled) { // (2)\n        savedArgs = arguments;\n        savedThis = this;\n        return;\n      }\n  \n      func.apply(this, arguments); // (1)\n  \n      isThrottled = true;\n  \n      setTimeout(function() {\n        isThrottled = false; // (3)\n        if (savedArgs) {\n          wrapper.apply(savedThis, savedArgs);\n          savedArgs = savedThis = null;\n        }\n      }, ms);\n    }\n  \n    return wrapper;\n}","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  Panel,\n  PanelHeader,\n  RangeSlider\n} from '@vkontakte/vkui';\n\nimport './style.css'\n\nconst Home = ({ id, go }) => (\n  <Panel id={id} centered>\n    <PanelHeader>Редактирование</PanelHeader>\n    <input className='slider_play' type={'range'}/>\n  </Panel>\n);\n\nHome.propTypes = {\n  id: PropTypes.string.isRequired,\n  go: PropTypes.func.isRequired\n};\n\nexport default Home;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Nouislider from \"nouislider-react\";\nimport \"nouislider/distribute/nouislider.css\";\n\nimport {\n  Panel,\n  PanelHeader,\n  RangeSlider\n} from '@vkontakte/vkui';\n\nimport './style.css'\n\nconst Home = ({ id, go }) => (\n  <Panel id={id} centered>\n    <PanelHeader>Редактирование</PanelHeader>\n    <img style={{position: 'absolute', width: '100%'}} src={'https://upload.wikimedia.org/wikipedia/commons/thumb/4/4b/La_Tour_Eiffel_vue_de_la_Tour_Saint-Jacques%2C_Paris_ao%C3%BBt_2014_%282%29.jpg/1200px-La_Tour_Eiffel_vue_de_la_Tour_Saint-Jacques%2C_Paris_ao%C3%BBt_2014_%282%29.jpg'}/>\n    <Nouislider className={'double-slider'} range={{ min: 0, max: 100 }} start={[20, 80]} connect />\n  </Panel>\n);\n\nHome.propTypes = {\n  id: PropTypes.string.isRequired,\n  go: PropTypes.func.isRequired\n};\n\nexport default Home;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  Panel,\n  PanelHeader,\n  Button,\n  Cell,\n  Search,\n  Placeholder, PanelHeaderBack,\n} from '@vkontakte/vkui';\nimport Icon56AddCircleOutline from '@vkontakte/icons/dist/56/add_circle_outline';\n\nimport './style.css'\nimport Icon24MoreHorizontal from \"@vkontakte/icons/dist/24/more_horizontal\";\n\nconst AddMusic = ({id, go}) => {\n  const [search, setSearch] = useState('')\n\n  const onChange = (e) => {\n    setSearch(e.target.value);\n  }\n\n  return <Panel id={id}>\n    <PanelHeader separator={false} left={<PanelHeaderBack onClick={go} data-to='edit-audio'/>}>\n      Выбрать музыку\n    </PanelHeader>\n    <Search value={search} onChange={onChange} after={null}/>\n    <Cell\n      asideContent={<div style={{display: 'flex'}}><div style={{marginRight: '16px', color: '#818C99', fontSize: '16px'}}>3:53</div><Icon24MoreHorizontal style={{color: '#3F8AE0'}} /></div>}\n      className={'AddMusic__cell'}\n      description='Верка Сердючка'\n      before={<img style={{height: '48px', width: '48px', borderRadius: '4px'}}\n                   src={'https://avatars.yandex.net/get-music-content/49707/fb3db1be.a.1012220-1/200x200'}/>}>Всё\n      будет хорошо</Cell>\n\n    <Cell\n      asideContent={<div style={{display: 'flex'}}><div style={{marginRight: '16px', color: '#818C99', fontSize: '16px'}}>3:05</div><Icon24MoreHorizontal style={{color: '#3F8AE0'}} /></div>}\n      className={'AddMusic__cell2'}\n      description='Юрий Никулин'\n      before={<img style={{height: '48px', width: '48px', borderRadius: '4px'}}\n                   src={'https://drinking-songs.ru/wp-content/uploads/2017/09/tekst-pesni-pro-zajcev.jpg'}/>}>Песня про зайцев</Cell>\n  </Panel>\n};\n\nAddMusic.propTypes = {\n  id: PropTypes.string.isRequired,\n  go: PropTypes.func.isRequired\n};\n\nexport default AddMusic;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  Panel,\n  PanelHeader,\n  Button,\n  Placeholder, Div, File, FormLayout, Input\n} from '@vkontakte/vkui';\nimport Icon56AddCircleOutline from '@vkontakte/icons/dist/56/add_circle_outline';\n\nimport './style.css'\nimport Icon56GalleryOutline from \"@vkontakte/icons/dist/56/gallery_outline\";\n\nconst FinalPreview = ({ id, go, currentSettings }) => (\n  <Panel id={id}>\n    <PanelHeader>Новый подкаст</PanelHeader>\n    <Div style={{\n      display: 'flex',\n      padding: 0\n    }}>\n      <Div className='NewPodcast__imageOverlay'>\n          <img className='NewPodcast__image'\n               src={currentSettings.imgSrc}\n               alt='Обложкаф'\n          />\n      </Div>\n    </Div>\n\n  </Panel>\n);\n\nFinalPreview.propTypes = {\n  id: PropTypes.string.isRequired,\n  go: PropTypes.func.isRequired\n};\n\nexport default FinalPreview;\n","import React, { useState} from 'react';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from 'panels/Home';\nimport NewPodcast from 'panels/NewPodcast'\nimport EditAudio from './panels/EditAudio';\nimport SliderTest from './panels/SliderTest'\nimport DoubleSliderTest from './panels/DoubleSliderTest'\nimport AddMusic from './panels/AddMusic'\nimport FinalPreview from \"./panels/FinalPreview\";\n\nconst App = () => {\n\tconst [activePanel, setActivePanel] = useState('home');\n\tconst [currentSettings, setCurrentSettings] = useState({\n\t\taudioName: 'Михаил Круг.mp3',\n\t\taudioDurationString: '59:41',\n\t});\n\n\tconst go = e => {\n\t\tsetActivePanel(e.currentTarget.dataset.to);\n\t};\n\n\treturn (\n\t\t<View activePanel={activePanel} >\n\t\t\t<Home id='home' go={go}/>\n\t\t\t<NewPodcast\n\t\t\t\tid='new-podcast'\n\t\t\t\tgo={go}\n\t\t\t\tcurrentSettings={currentSettings}\n\t\t\t\tsetCurrentSettings={setCurrentSettings}\n\t\t\t/>\n\t\t\t<EditAudio id='edit-audio' audioSrc={currentSettings.audio} waves={currentSettings.waves} setCurrentSettings={setCurrentSettings} go={go}/>\n\t\t\t<SliderTest id='slider-test' go={go}/>\n\t\t\t<DoubleSliderTest id='double-slider-test' go={go}/>\n\t\t\t<AddMusic id='add-music' go={go}/>\n\t\t\t<FinalPreview id={'final-preview'} go={go}/>\n\t\t</View>\n\t);\n}\n\nexport default App;\n\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}